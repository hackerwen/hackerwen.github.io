<html>
      <head>
        <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1,user-scalable=no" />
        <meta charset="utf-8">
        <meta name="referrer" content="never">
        <title>React ç»„ä»¶åº“æ­å»ºæŒ‡å—-å¼€å‘è°ƒè¯•ä¸æ–‡æ¡£ç¼–å†™ | æµ·ç§‹</title>
        <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
        <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://worldzhao.github.io/styles/main.css">
          <script src="https://worldzhao.github.io/media/scripts/mdui.min.js"></script>
        <link rel="stylesheet" href="https://at.alicdn.com/t/font_1306644_jwtuc2zzbrd.css">
        <link href="https://fonts.googleapis.com/css?family=Dancing+Script|Ma+Shan+Zheng&display=swap" rel="stylesheet">
        <script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
        <script src="https://worldzhao.github.io/media/scripts/script.js"></script>
        <script >hljs.initHighlightingOnLoad();</script>
        

    </head>
    <body class="mdui-theme-primary-purple mdui-theme-accent-purple">
        <header class="index-img mdui-m-b-3"  style="background-image: url(https://tva1.sinaimg.cn/large/006tNbRwgy1ga5pq8mkfbj31910u0186.jpg);" >
                          <button class="mdui-btn  mdui-btn-icon mdui-btn-dense mdui-color-theme-500 mdui-ripple yinying mdui-m-t-1 mdui-m-l-1" mdui-menu="{target: '#demo-attr-cascade'}"><i class="mdui-icon material-icons">&#xe5d2;</i></button>
                <ul class="mdui-menu" id="demo-attr-cascade">
                
                        <li class="mdui-menu-item">
                          <a href="/" class="mdui-ripple">é¦–é¡µ</a>
                        </li>
                
                        <li class="mdui-menu-item">
                          <a href="/archives" class="mdui-ripple">å½’æ¡£</a>
                        </li>
                
                        <li class="mdui-menu-item">
                          <a href="/tags" class="mdui-ripple">æ ‡ç­¾</a>
                        </li>
                
                        <li class="mdui-menu-item">
                          <a href="/post/about" class="mdui-ripple">å…³äº</a>
                        </li>
                
                      </ul>

        </header>
        <div class="mdui-container post">
                <div class="mdui-row">
                        <div class="mdui-col-md-8 mdui-col-offset-md-2 ">
                         <article class="mdui-shadow-10 mdui-p-a-2 post-list">
                           <div class="mdui-typo-display-1 mdui-m-b-3">React ç»„ä»¶åº“æ­å»ºæŒ‡å—-å¼€å‘è°ƒè¯•ä¸æ–‡æ¡£ç¼–å†™</div>
                           <a  class="index-list-biaoqian ">2019-12-22</a>
                           <div class="mdui-typo mdui-m-t-3 post-neirong"><p>MDXï¼Œæ–‡æ¡£ç”ŸèŠ±ã€‚</p>
<!-- more -->
<h2 id="æ¦‚è§ˆ">æ¦‚è§ˆ</h2>
<p><a href="https://worldzhao.github.io/post/react-ui-library-tutorial-prepare/">ä¸Šä¸€ç¯‡æ–‡ç« </a>ä¸­è¿›è¡Œäº†é¡¹ç›®çš„åˆå§‹åŒ–ï¼ŒåŒæ—¶ç¼–å†™äº†ä¸€ä¸ª<code>&lt;Alert/&gt;</code>ç»„ä»¶ï¼Œé—ç•™äº†ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p><strong>ç¼–å†™æ—¶å®Œå…¨æ— æ³•è¿›è¡Œé¢„è§ˆè°ƒè¯•</strong></p>
<p>æ­¤å¤„é€‰æ‹©<a href="https://github.com/doczjs/docz">docz</a>æ¥è¾…åŠ©é¢„è§ˆè°ƒè¯•ã€‚</p>
<blockquote>
<p><code>docz</code>åŸºäº<code>MDX</code>ï¼ˆMarkdown + JSXï¼‰ï¼Œå¯ä»¥åœ¨ Markdown ä¸­å¼•å…¥ React ç»„ä»¶ï¼Œä½¿å¾—ä¸€è¾¹ç¼–å†™æ–‡æ¡£ï¼Œä¸€è¾¹é¢„è§ˆè°ƒè¯•æˆä¸ºäº†å¯èƒ½ã€‚è€Œä¸”å¾—ç›Šäº React ç»„ä»¶ç”Ÿæ€ï¼Œæˆ‘ä»¬å¯ä»¥åƒç¼–å†™åº”ç”¨ä¸€èˆ¬ç¼–å†™æ–‡æ¡£ï¼Œä¸ä»…ä»…æ˜¯æ¯ç‡¥çš„æ–‡å­—ã€‚<code>docz</code> ä¹Ÿå†…ç½®äº†ä¸€äº›ç»„ä»¶ï¼Œæ¯”å¦‚<code>&lt;Playground&gt;</code>ã€‚</p>
</blockquote>
<p>æœ¬èŠ‚æ‰€æœ‰ä»£ç å¯åœ¨ä»“åº“<a href="https://github.com/worldzhao/react-ui-library-tutorial/tree/chapter-2/dev-and-doc">chapter-2</a>åˆ†æ”¯ä¸­è·å–ã€‚</p>
<h2 id="å®‰è£…-docz-ä»¥åŠè‡ªå®šä¹‰é…ç½®">å®‰è£… docz ä»¥åŠè‡ªå®šä¹‰é…ç½®</h2>
<pre><code class="language-bash">yarn add docz --dev

yarn add rimraf --dev # æ¸…ç©ºç›®å½•çš„ä¸€ä¸ªè¾…åŠ©åº“
</code></pre>
<p>å¢åŠ  <code>npm scripts</code> è‡³ <code>package.json</code>ã€‚</p>
<pre><code class="language-json">&quot;scripts&quot;: {
  &quot;dev&quot;: &quot;docz dev&quot;, // å¯åŠ¨æœ¬åœ°å¼€å‘ç¯å¢ƒ
  &quot;start&quot;: &quot;npm run dev&quot;, // devå‘½ä»¤åˆ«å
  &quot;build:doc&quot;: &quot;rimraf doc-site &amp;&amp; docz build&quot;, // åç»­ä¼šé…ç½®æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ç›®å½•åä¸ºdoc-siteï¼Œæ•…æ¯æ¬¡buildå‰åˆ é™¤
  &quot;preview:doc&quot;: &quot;docz serve&quot; // é¢„è§ˆæ–‡æ¡£ç«™ç‚¹
},
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šæœ¬èŠ‚æ‰€æœ‰æ“ä½œéƒ½æ˜¯é’ˆå¯¹ç«™ç‚¹åº”ç”¨ã€‚<code>æ‰“åŒ…</code>æŒ‡ä»£æ–‡æ¡£ç«™ç‚¹æ‰“åŒ…ï¼Œè€Œéç»„ä»¶åº“ã€‚</p>
</blockquote>
<p>æ–°å»º<code>doczrc.js</code>é…ç½®æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<p><strong>doczrc.js</strong></p>
<pre><code class="language-js">export default {
  files: './components/**/*.{md,markdown,mdx}', // è¯†åˆ«çš„æ–‡ä»¶åç¼€
  dest: 'doc-site', // æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ç›®å½•å
  title: 'happy-ui', // ç«™ç‚¹æ ‡é¢˜
  typescript: true, // ç»„ä»¶æºæ–‡ä»¶æ˜¯é€šè¿‡typescriptå¼€å‘ï¼Œéœ€è¦æ‰“å¼€æ­¤é€‰é¡¹
};
</code></pre>
<p>ç”±äºä½¿ç”¨äº†<code>less</code>ä½œä¸ºæ ·å¼é¢„å¤„ç†å™¨ï¼Œæ•…éœ€è¦å®‰è£… less æ’ä»¶ã€‚</p>
<pre><code class="language-bash">yarn add less gatsby-plugin-less --dev
</code></pre>
<p>æ–°å»º<code>gatsby-config.js</code>ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<p><strong>gatsby-config.js</strong></p>
<pre><code class="language-js">module.exports = {
  plugins: ['gatsby-theme-docz', 'gatsby-plugin-less'],
};
</code></pre>
<h2 id="ç¼–å†™æ–‡æ¡£">ç¼–å†™æ–‡æ¡£</h2>
<p>æ–°å»º<code>components/alert/index.mdx</code>ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code>---
name: Alert è­¦å‘Šæç¤º
route: /Alert
menu: ç»„ä»¶
---

import { Playground } from 'docz';
import Alert from './alert'; // å¼•å…¥ç»„ä»¶
import './style'; // å¼•å…¥ç»„ä»¶æ ·å¼

# Alert è­¦å‘Šæç¤º

è­¦å‘Šæç¤ºï¼Œå±•ç°éœ€è¦å…³æ³¨çš„ä¿¡æ¯ã€‚

## ä»£ç æ¼”ç¤º

### åŸºæœ¬ç”¨æ³•

&lt;Playground&gt;
  &lt;Alert kind=&quot;warning&quot;&gt;è¿™æ˜¯ä¸€æ¡è­¦å‘Šæç¤º&lt;/Alert&gt;
&lt;/Playground&gt;

## API

| å±æ€§ | è¯´æ˜     | ç±»å‹                                         | é»˜è®¤å€¼ |
| ---- | -------- | -------------------------------------------- | ------ |
| kind | è­¦å‘Šç±»å‹ | 'info'/'positive'/'negative'/'warning'éå¿…å¡« | 'info' |
</code></pre>
<p>æ‰§è¡Œè„šæœ¬å‘½ä»¤ï¼š</p>
<pre><code class="language-bash">yarn start # or yarn dev
</code></pre>
<p>å¯ä»¥åœ¨<code>localhost:3000</code>çœ‹åˆ°å¦‚ä¸‹é¡µé¢ ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1ga1ujda771j31j50u0h06.jpg" alt="æ–‡æ¡£ç«™ç‚¹"></figure>
<p>ç°åœ¨å¯ä»¥åœ¨<code>index.mdx</code>ä¸­æ„‰å¿«åœ°è¿›è¡Œæ–‡æ¡£ç¼–å†™å’Œè°ƒè¯•äº†ï¼</p>
<p>å€˜è‹¥æœ¬æ–‡åˆ°äº†è¿™é‡Œå°±ç»“æŸï¼ˆå…¶å®ä¹Ÿå¯ä»¥ç»“æŸäº†<code>(_^â–½^_)</code>ï¼‰ï¼Œé‚£æˆ‘åªæ˜¯å®˜æ–¹æ–‡æ¡£çš„ç¿»è¯‘å¤è¯»æœºç½¢äº†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ç»§ç»­å‘ä¸‹çœ‹ã€‚</p>
<h2 id="ä¼˜åŒ–æ–‡æ¡£ç¼–å†™">ä¼˜åŒ–æ–‡æ¡£ç¼–å†™</h2>
<p>å¦‚æœ<code>ä»£ç æ¼”ç¤º</code>éƒ¨åˆ†çš„<code>demo</code>è¾ƒå¤šï¼ˆæ¯”å¦‚åŸºæœ¬ç”¨æ³•ã€é«˜çº§ç”¨æ³•ä»¥åŠå„ç§ç”¨æ³•ç­‰ç­‰ï¼‰ï¼Œåœ¨ç»„ä»¶å¤æ‚çš„æƒ…å†µä¸‹ï¼ˆæ¯•ç«Ÿ<code>&lt;Alert/&gt;</code>ç€å®å¤ªç®€å•äº†ï¼‰ï¼Œä¼šå¯¼è‡´æ–‡æ¡£å¾ˆé•¿éš¾ä»¥ç»´æŠ¤ï¼Œä½ åˆ°åº•æ˜¯åœ¨å†™æ–‡æ¡£å‘¢è¿˜æ˜¯åœ¨å†™ä»£ç å‘¢ï¼Ÿ</p>
<p>é‚£å°±æŠ½ç¦»å§ã€‚</p>
<p>åœ¨<code>components/alert/</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»º<code>demo</code>æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾æˆ‘ä»¬åœ¨ç¼–å†™æ–‡æ¡£æ—¶éœ€è¦å¼•ç”¨çš„ <code>demo</code>ã€‚</p>
<p><strong>components/alert/demo/1-demo-basic.tsx</strong></p>
<pre><code class="language-jsx">import React from 'react';
import Alert from '../alert';
import '../style';

export default () =&gt; &lt;Alert kind=&quot;warning&quot;&gt;&lt;/Alert&gt;;
</code></pre>
<p><strong>components/alert/index.mdx</strong></p>
<pre><code class="language-diff">- import Alert from './alert'; // å¼•å…¥ç»„ä»¶
- import './style'; // å¼•å…¥ç»„ä»¶æ ·å¼
+ import BasicDemo from './demo/1-demo-basic';

...

&lt;Playground&gt;
- &lt;Alert kind=&quot;warning&quot;&gt;è¿™æ˜¯ä¸€æ¡è­¦å‘Šæç¤º&lt;/Alert&gt;
+ &lt;BasicDemo /&gt;
&lt;/Playground&gt;
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±å°† demo ä¸æ–‡æ¡£è¿›è¡Œäº†åˆ†éš”ã€‚é¢„è§ˆå¦‚ä¸‹ï¼š</p>
<figure data-type="image" tabindex="2"><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1ga1v3li0poj31l80u0wix.jpg" alt="æ–‡æ¡£é‡æ„"></figure>
<p>ç­‰ç­‰ï¼Œä½ ä¸‹é¢æ˜¾ç¤ºçš„é‚£ä¸ª<code>&lt;BasicDemo /&gt;</code>æœ‰ç‚¹æ’©äººï¼Œè¿™é‡Œåº”è¯¥æ˜¯ç»™ç”¨æˆ·çˆ¸çˆ¸ä»¬<code>copy</code>çš„<code>demo</code>æºç ï¼Œä½ å¼„ä¸€ä¸ªæ ‡ç­¾åœ¨è¿™é‡Œï¼Œç”¨æˆ·çˆ¸çˆ¸è‚¯å®šä¸å¼€å¿ƒ ğŸ™…â€â™€ï¸ã€‚</p>
<p>ç„¶è€Œ<code>&lt;Playground /&gt;</code>ç»„ä»¶æš‚æ—¶æ— æ³•æ”¯æŒä¸Šè¿°å½¢å¼çš„å±•ç¤ºï¼šè‡ªå®šä¹‰ä¸‹æ–¹å±•ç¤ºçš„ä»£ç ï¼Œè€Œé<code>&lt;Playground /&gt;</code>å†…éƒ¨çš„ä»£ç ã€‚ç›¸å…³è®¨è®ºå¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="https://github.com/doczjs/docz/pull/907">Allow to hide the LiveError overlay #907 </a></li>
<li><a href="https://github.com/doczjs/docz/pull/906">Allow to override the playground's editor's code #906 </a></li>
</ul>
<p>å…¶å®ç¬¬ä¸€æ¡ <code>PR</code> å·²ç»è§£å†³äº†é—®é¢˜ï¼Œä½†æ˜¯è¢«å…³é—­äº†ï¼Œæ— å¥ˆã€‚</p>
<p>ä¸è¿‡æ—¢ç„¶éƒ½èƒ½å¼•å…¥ React ç»„ä»¶äº†ï¼Œåœ¨<code>MDX</code>çš„ç¯å¢ƒä¸‹è‡ªå®šä¹‰ä¸€ä¸ª<code>Playground</code>ç»„ä»¶åˆæœ‰ä½•éš¾å‘¢ï¼Œæ— éå°±æ˜¯æ¸²æŸ“ç»„ä»¶ï¼ˆMDX è‡ªå¸¦ï¼‰å’Œå±•ç¤ºæºç ï¼Œç®€å•å¼€æ”¾çš„ä¸œè¥¿å¤§å®¶éƒ½æ˜¯å–œé—»ä¹è§çš„ï¼Œå°±å«<code>HappyBox</code>å§ã€‚</p>
<h2 id="ä¼˜åŒ–ä»£ç å±•ç¤º">ä¼˜åŒ–ä»£ç å±•ç¤º</h2>
<h3 id="ç¼–å†™-happybox-ç»„ä»¶">ç¼–å†™ <code>&lt;HappyBox /&gt;</code>ç»„ä»¶</h3>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<pre><code>yarn add react-use antd react-simple-code-editor prismjs react-copy-to-clipboard raw-loader --dev
</code></pre>
<ul>
<li><a href="https://github.com/streamich/react-use">react-use</a> - 2020 å¹´äº†ï¼Œå½“ç„¶è¦ç”¨<code>hooks</code></li>
<li><a href="https://ant.design/">antd</a> - ä½¿ç”¨ä¸€äº›è¾…åŠ©ç»„ä»¶</li>
<li><a href="https://github.com/satya164/react-simple-code-editor">react-simple-code-editor</a> - ä»£ç å±•ç¤ºåŒºåŸŸ</li>
<li><a href="https://github.com/PrismJS/prism">prismjs</a> - ä»£ç é«˜äº®</li>
<li><a href="https://github.com/webpack-contrib/raw-loader">raw-loader</a> - å°†æºç è½¬æˆå­—ç¬¦ä¸²</li>
<li><a href="https://github.com/nkbt/react-copy-to-clipboard">react-copy-to-clipboard</a> - è®©ç”¨æˆ·çˆ¸çˆ¸ä»¬èƒ½å¤Ÿ copy demo ä»£ç </li>
</ul>
<blockquote>
<p>è¿™äº›ä¾èµ–éƒ½æ˜¯æœåŠ¡äºæ–‡æ¡£ç«™ç‚¹åº”ç”¨ï¼Œå’Œç»„ä»¶åº“è‡ªèº«æ¯«æ— å…³è”ã€‚</p>
</blockquote>
<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p>
<figure data-type="image" tabindex="3"><img src="https://tva1.sinaimg.cn/large/006tNbRwgy1ga1ynynxxlj31dg0u0tde.jpg" alt="æœ€ç»ˆæ•ˆæœ"></figure>
<p>æ ¹ç›®å½•ä¸‹æ–°å»º<code>doc-comps</code>æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾æ–‡æ¡£ä¸­ä½¿ç”¨çš„ä¸€äº›å·¥å…·ç»„ä»¶ï¼Œæ¯”å¦‚<code>&lt;HappyBox /&gt;</code>ã€‚</p>
<p><strong>doc-comps</strong></p>
<pre><code>â”œâ”€â”€ happy-box
â”‚   â”œâ”€â”€ index.less
â”‚   â””â”€â”€ index.tsx
â””â”€â”€ index.ts
</code></pre>
<p><strong>components/doc-comps/happy-box/index.tsx</strong></p>
<pre><code class="language-jsx">import React from 'react';
import Editor from 'react-simple-code-editor';
import CopyToClipboard from 'react-copy-to-clipboard';
import useToggle from 'react-use/esm/useToggle';
import { Divider, Typography, Icon, Tooltip, message } from 'antd';
import { highlight, languages } from 'prismjs/components/prism-core';

import 'prismjs/components/prism-clike';
import 'prismjs/components/prism-javascript';
import 'prismjs/components/prism-markup';
import './index.less';

require('prismjs/components/prism-jsx');

const { Text } = Typography;
interface Props {
  code: string;
  title?: React.ReactNode;
  desc?: React.ReactNode;
}

export const HappyBox: React.FC&lt;Props&gt; = ({ code, title, desc, children }) =&gt; {
  const [isEditVisible, toggleEditVisible] = useToggle(false);

  return (
    &lt;div className=&quot;code-box&quot;&gt;
      &lt;section className=&quot;code-box-demo&quot;&gt; {children}&lt;/section&gt;
      &lt;section className=&quot;code-box-meta&quot;&gt;
        &lt;Divider orientation=&quot;left&quot;&gt;{title || 'ç¤ºä¾‹'}&lt;/Divider&gt;
        &lt;div className=&quot;code-box-description&quot;&gt;
          &lt;Text&gt;{desc || 'æš‚æ— æè¿°'}&lt;/Text&gt;
        &lt;/div&gt;
        &lt;Divider dashed&gt;&lt;/Divider&gt;
        &lt;div className=&quot;code-box-action&quot;&gt;
          &lt;Tooltip placement=&quot;top&quot; title={'å¤åˆ¶ä»£ç '}&gt;
            &lt;CopyToClipboard text={code} onCopy={() =&gt; message.success('å¤åˆ¶æˆåŠŸ')}&gt;
              &lt;Icon type=&quot;copy&quot; /&gt;
            &lt;/CopyToClipboard&gt;
          &lt;/Tooltip&gt;
          &lt;Tooltip placement=&quot;top&quot; title={isEditVisible ? 'æ”¶èµ·ä»£ç ' : 'æ˜¾ç¤ºä»£ç '}&gt;
            &lt;Icon type=&quot;code&quot; onClick={toggleEditVisible} /&gt;
          &lt;/Tooltip&gt;
        &lt;/div&gt;
      &lt;/section&gt;
      {renderEditor()}
    &lt;/div&gt;
  );

  /* ä»£ç å±•ç¤ºåŒºåŸŸ */
  function renderEditor() {
    if (!isEditVisible) return null;
    return (
      &lt;div className=&quot;container_editor_area&quot;&gt;
        &lt;Editor
          readOnly
          value={code}
          onValueChange={() =&gt; {}}
          highlight={code =&gt; highlight(code, languages.jsx)}
          padding={10}
          className=&quot;container__editor&quot;
          style={{
            fontFamily: '&quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace',
            fontSize: 14,
          }}
        /&gt;
      &lt;/div&gt;
    );
  }
};

export default HappyBox;
</code></pre>
<h3 id="ç›¸å…³é…ç½®å˜æ›´">ç›¸å…³é…ç½®å˜æ›´</h3>
<ul>
<li>å¢åŠ  <code>alias</code>åˆ«åï¼Œæºç å±•ç¤ºç›¸å¯¹è·¯å¾„ä¸å¤Ÿå‹å¥½ï¼›</li>
<li>antd æŒ‰éœ€å¼•å…¥ï¼Œå³ä½¿æ˜¯ç«™ç‚¹åº”ç”¨ã€‚</li>
</ul>
<p>æ–°å»º<code>gatsby-node.js</code>ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ä»¥å¼€å¯<code>alias</code>ï¼š</p>
<pre><code class="language-js">const path = require('path');

exports.onCreateWebpackConfig = args =&gt; {
  args.actions.setWebpackConfig({
    resolve: {
      modules: [path.resolve(__dirname, '../src'), 'node_modules'],
      alias: {
        'happy-ui/lib': path.resolve(__dirname, '../components/'),
      },
    },
  });
};
</code></pre>
<p><code>antd</code> æŒ‰éœ€å¼•å…¥ï¼Œå®‰è£…ä¾èµ–ï¼Œå¹¶é…ç½®<code>gatsby-config.js</code>ï¼š</p>
<pre><code class="language-bash">yarn add babel-plugin-import gatsby-plugin-import --dev
</code></pre>
<p><strong>gatsby-config.js</strong></p>
<pre><code class="language-js">module.exports = {
  plugins: [
    'gatsby-theme-docz',
    'gatsby-plugin-less',
    {
      resolve: 'gatsby-plugin-import',
      options: {
        libraryName: 'antd',
        style: 'css',
      },
    },
  ],
};
</code></pre>
<p><code>tsconfig.json</code> å¿½ç•¥<code>demo</code>ä»¥åŠ<code>doc-comps</code>ï¼Œé¿å…ç»„ä»¶åº“æ‰“åŒ…ç”Ÿæˆ<code>types</code>æ—¶åŒ…å«å…¶ä¸­ï¼š</p>
<p><strong>tsconfig.json</strong></p>
<pre><code class="language-diff">{
  &quot;compilerOptions&quot;: {
    &quot;rootDir&quot;: &quot;components&quot;,
    &quot;baseUrl&quot;: &quot;components&quot;,
    &quot;target&quot;: &quot;esnext&quot;,
    &quot;module&quot;: &quot;commonjs&quot;,
    &quot;jsx&quot;: &quot;react&quot;,
    &quot;declaration&quot;: true,
    &quot;outDir&quot;: &quot;types&quot;,
    &quot;strict&quot;: true,
    &quot;moduleResolution&quot;: &quot;node&quot;,
    &quot;allowSyntheticDefaultImports&quot;: true,
    &quot;esModuleInterop&quot;: true
  },
+ &quot;exclude&quot;: [&quot;components/**/demo&quot;, &quot;doc-comps&quot;]
}

</code></pre>
<h3 id="æ”¹é€ ç›¸å…³æ–‡ä»¶">æ”¹é€ ç›¸å…³æ–‡ä»¶</h3>
<p><strong>components/alert/demo/1-demo-basic.tsx</strong></p>
<pre><code class="language-diff">- import Alert from '../alert';
+ import Alert from 'happy-ui/lib/alert';

- import '../style';
+ import 'happy-ui/lib/alert/style';
</code></pre>
<p><strong>components/alert/index.mdx</strong></p>
<pre><code class="language-diff">- import { Playground } from 'docz';
+ import { HappyBox } from '../../doc-comps';

+ import BasicDemoCode from '!raw-loader!./demo/1-demo-basic.tsx';

...

- &lt;Playground&gt;
-   &lt;BasicDemo /&gt;
- &lt;/Playground&gt;

+ &lt;HappyBox code={BasicDemoCode} title=&quot;åŸºæœ¬ç”¨æ³•&quot; desc=&quot;ä½¿ç”¨kindæ§åˆ¶Alertç±»å‹&quot;&gt;
+  &lt;BasicDemo /&gt;
+ &lt;/HappyBox&gt;
</code></pre>
<h3 id="å…¶ä»–">å…¶ä»–</h3>
<p><strong>.eslintignore</strong></p>
<pre><code class="language-diff">+ doc-comps
+ demo
</code></pre>
<p><code>yarn start</code>å¡ä½æ—¶å°è¯•åˆ é™¤æ ¹ç›®å½•<code>.docz</code>æ–‡ä»¶å¤¹ï¼Œè€Œåé‡æ–°æ‰§è¡Œå‘½ä»¤ã€‚</p>
<p>æ›´å¤šè¯¦è§<a href="https://github.com/worldzhao/react-ui-library-tutorial/tree/chapter-2/dev-and-doc">ä»“åº“</a>ã€‚</p>
<p>å¼€å‘è°ƒè¯•ä¸æ–‡æ¡£ç¼–å†™ç»“æŸï¼Œæ¬¢è¿æŒ‡ç‚¹äº¤æµã€‚</p>
<p>To be Continued...</p>
</div>
                              <div class="mdui-divider mdui-m-t-3"></div>
                              <div class="mdui-row-xs-2 mdui-m-t-2">
  <div class="mdui-col"> </div>
 <div class="mdui-col"><div class="mdui-text-right "><a href="https://worldzhao.github.io/post/react-ui-library-tutorial-prepare">React ç»„ä»¶åº“æ­å»ºæŒ‡å—-å‡†å¤‡å·¥ä½œ</a></div> </div>
                                </div>
                                <div class="mdui-divider mdui-m-t-2"></div>
   
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'ae70790f8df61d7ce952',
    clientSecret: 'dba663050bbe1ab7a23296198c9728128461dc35',
    repo: 'worldzhao.github.io',
    owner: 'worldzhao',
    admin: ['worldzhao'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        
 <script src="https://worldzhao.github.io/media/scripts/Valine.min.js"></script>
 <div class="comment"></div>

<script>
      new Valine({
            el: '.comment',



            path: window.location.pathname,
            pageSize: 30,
            avatar:'mm', 
       })

    </script> 
<script>
    if(window.location.hash){
        var checkExist = setInterval(function() {
           if ($(window.location.hash).length) {
              $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
              clearInterval(checkExist);
           }
        }, 100);
    }
</script>
                         </article>
                 <div class="toc-container mdui-float-right">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E6%A6%82%E8%A7%88">æ¦‚è§ˆ</a></li>
<li><a href="#%E5%AE%89%E8%A3%85-docz-%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE">å®‰è£… docz ä»¥åŠè‡ªå®šä¹‰é…ç½®</a></li>
<li><a href="#%E7%BC%96%E5%86%99%E6%96%87%E6%A1%A3">ç¼–å†™æ–‡æ¡£</a></li>
<li><a href="#%E4%BC%98%E5%8C%96%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99">ä¼˜åŒ–æ–‡æ¡£ç¼–å†™</a></li>
<li><a href="#%E4%BC%98%E5%8C%96%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA">ä¼˜åŒ–ä»£ç å±•ç¤º</a>
<ul>
<li><a href="#%E7%BC%96%E5%86%99-happybox-%E7%BB%84%E4%BB%B6">ç¼–å†™ <code>&lt;HappyBox /&gt;</code>ç»„ä»¶</a></li>
<li><a href="#%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E5%8F%98%E6%9B%B4">ç›¸å…³é…ç½®å˜æ›´</a></li>
<li><a href="#%E6%94%B9%E9%80%A0%E7%9B%B8%E5%85%B3%E6%96%87%E4%BB%B6">æ”¹é€ ç›¸å…³æ–‡ä»¶</a></li>
<li><a href="#%E5%85%B6%E4%BB%96">å…¶ä»–</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>

                        </div>
                 </div>
          
        </div>
        <script data-no-instant>
    (function ($) {
        $.extend({
            adamsOverload: function () {
                $.viewImage({
                    'target'  : '.post-neirong img',
                    'exclude' : '.vsmile-icons img , .song-links-item img',
                    'delay'   : 300
                });
            }
        });
    })(jQuery);
    jQuery.adamsOverload();
</script>
        <footer class="footer mdui-m-t-5 mdui-text-center">
               <nav class="social-links">
                      <ul>
                      
                            
                           
                            
                           
                            	
                        <li class="social-link"><a href="https://github.com/worldzhao" target="_blank"><i class="iconfont icon-github"></i></a></li>
                         
                           
                            	
                        <li class="social-link"><a href="https://www.zhihu.com/people/zhao-qing-90-84/activities" target="_blank"><i class="iconfont icon-zhihu"></i></a></li>
                         
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                            
                           
                      </ul>
                    </nav>
                    <div class="copyright">
                      <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> <br/> Theme <a href="https://github.com/shanbufun/gridea-theme-jia" target="_blank"  title="ä½³"  >Jia</a> by <a href="https://shanbu.fun/" target="_blank"  title="å±±åœæ–¹" >Shanbufun</a> </p>
                  </div>
              </footer>
    </body>
</html>