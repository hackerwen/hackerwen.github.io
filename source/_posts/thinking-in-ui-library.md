---
title: 关于组件库的相关思考
date: 2019-06-02
tags: [react]
categories: react
---

# 关于组件库的相关思考

先丢项目地址

https://github.com/worldzhao/dora-ui

欢迎 star。

## 现状

没有统一组件库，具体问题表现在以下几点：

1. 数量：可复用组件少，经常需要造轮子，并且造完没有抽出来以供其他项目复用；
2. 文档：文档缺失，更换开发者大概率需要摸瞎看源码，而且很可能 A 项目已经存在了解决方案，B 项目的开发者并不知道（或者知道了却根本无从下手拷贝），重复造轮子；
3. 维护：1 中的轮子复用依靠复制粘贴，可维护性差，出现问题多方同步修改。

## 可复用组件类型

4. UI 组件：譬如弹层（Mask,SlideUp）、轻提示(Toast)以及输入框（Input）等组件（往往还存在一些兼容性问题）；
5. 业务组件：相同业务类型可复用的组件，譬如抽奖转盘组件；
6. 逻辑组件：譬如传送门（Portal）、切换器（Toggler）以及校验器（Validator）等可以用来优化代码结构并减少重复代码等无形态组件。

## 个人思考

活动页固然千奇百怪，但总有相似之处，如何与业务结合，分离可变与不可变，提高开发效率，正是工程师存在的意义（当然也需要产品【业务抽象】以及设计【ui 规范】同学的共同参与）。

如果不同项目设计风格实在差异较大，也能够通过改改样式复用，而非重写一遍逻辑以及兼容性处理。

既要有造轮子的能力（个人），也要有不造轮子的觉悟（团队）。

当然，很有可能因为设计资源不够导致本项目沦为玩具项目，但是总归是会有成长的。

## 技术选型

- 开发语言：typescript，可靠、可读以及提示友好；
- 测试框架：暂定，倾向于 jest；
- 文档系统：docz，支持 mdx，支持预览以及在线编辑；
- 打包-ts：babel，同时提供 commonjs 以及 esmodule 两种包；
- 打包-less：gulp-less，同时书写 style.ts，用于按需引入。style.ts=>style.js=>css.js（参考 antd）
- 其他： editorconfig/eslint/commitlint/commitizen/husky，规范代码风格以及 commit 记录。

[欢迎体验](https://dora-ui.netlify.com/)并参与贡献！
